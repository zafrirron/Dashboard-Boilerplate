
# React Express Postgres Docker Boilerplate

This project is a full-stack boilerplate using React for the frontend, Express for the backend, Postgres as the database, and Docker for containerization. It includes user management, role-based access control (RBAC), and logging functionalities.

## Features
- **Frontend**: React application with routing, dynamic page loading, and user authentication.
- **Backend**: Express.js server with JWT-based authentication, role-based access control, and Swagger documentation.
- **Database**: Postgres for managing persistent data.
- **User Management**: Complete user management with admin privileges.
- **Logging**: Integrated logging using Winston for tracking errors and requests.
- **Docker**: Docker Compose setup to run the entire stack in containers.

## Folder Structure

### Frontend
```
frontend/
├── public/
│   └── assets/
├── src/
│   ├── components/
│   ├── pages/
│   ├── services/
│   ├── context/
│   ├── common/
│   ├── utils/
│   └── .env
├── package.json
└── README.md
```

### Backend
```
backend/
├── config/
├── controllers/
├── models/
├── routes/
├── middlewares/
├── services/
├── utils/
├── logs/              # Contains log files generated by Winston
├── tests/
├── .env
├── app.js
├── logger.js          # Winston logger configuration
├── server.js
├── package.json
└── README.md
```

## Docker Setup

Docker Compose is used to orchestrate the containers for the frontend, backend, and Postgres database. To run the application:

1. Make sure Docker and Docker Compose are installed.
2. Clone the repository.
3. Navigate to the project root and run:
    ```bash
    docker-compose up --build
    ```
4. The app will be available at `http://localhost:3000` (frontend) and `http://localhost:5000` (backend).

## Logger Framework (Winston)

The backend uses **Winston** for logging purposes, with logs written to the `logs/` directory. You can adjust the log levels and file rotation by modifying `logger.js` in the backend.

Example of logging in an API route:
```js
const logger = require('../logger');

router.get('/example', (req, res) => {
  logger.info('GET /example endpoint called');
  res.send('Hello World');
});
```

## Adding Pages Using `routesConfig`

### Frontend

The `routesConfig` file in the `common/` directory controls routing for the frontend. Each route entry defines the path, role-based access, and the page component. You can also add external links that will open in a new tab.

Example of adding a new page:

1. Define the new route in `routesConfig.js`:
   ```js
   {
     newPage: {
       path: '/new-page',
       roles: ['admin', 'logged'],  // Role-based access
       frontendVisible: true,  // Show in sidebar
       page: 'NewPage',  // Corresponds to the component in the 'pages/' folder
     }
   }
   ```

2. Create the new page component in the `pages/` folder:
   ```js
   // src/pages/NewPage.js
   import React from 'react';

   const NewPage = () => {
     return <div>New Page Content</div>;
   };

   export default NewPage;
   ```

3. The page will now be available based on the roles and path defined.

### Backend

For the backend, you can add a new API route by following this structure:

1. Define the new route in `routes/adminRoutes.js`:
   ```js
   const express = require('express');
   const router = express.Router();

   router.get('/new-endpoint', (req, res) => {
     res.json({ message: 'This is a new API endpoint' });
   });

   module.exports = router;
   ```

2. The new API will be available under the `/api/admin/new-endpoint` path.

## User Management

This project includes full user management. Admin users can view, edit, and delete users through the frontend. The user management page is accessible via the `/admin/user-management` route for admin roles.

To create more roles or add additional permissions, you can modify the `routesConfig` file and update the role-based access logic as necessary.

---

Happy coding with **React Express Postgres Docker Boilerplate**!
